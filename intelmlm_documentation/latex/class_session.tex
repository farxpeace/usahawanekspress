\hypertarget{class_session}{\section{Session Class Reference}
\label{class_session}\index{Session@{Session}}
}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_session_a9f2567297f1c0fd0532fa8763308134a}{Session} ()
\item 
\hypertarget{class_session_ab6b546dddb136aab87dfac41264ffc31}{{\bfseries parse\-\_\-signed\-\_\-request} (\$signed\-\_\-request)}\label{class_session_ab6b546dddb136aab87dfac41264ffc31}

\item 
\hypertarget{class_session_a3c363e3c0e180786fec40cd418be2827}{{\bfseries base64\-\_\-url\-\_\-decode} (\$input)}\label{class_session_a3c363e3c0e180786fec40cd418be2827}

\item 
\hyperlink{class_session_a1e201c0957bc704471a78cd492174871}{start\-Session} ()
\item 
\hyperlink{class_session_af29ab581f7144f68fc0982e66cde6608}{get\-U\-I\-Dby\-Username\-And\-Userid} (\$username, \$userid)
\item 
\hypertarget{class_session_ab8e90adf3e4b15eea283c4ea450a4288}{{\bfseries check\-Login} ()}\label{class_session_ab8e90adf3e4b15eea283c4ea450a4288}

\item 
\hypertarget{class_session_a9bf8045a373664900252ed00d4f2ee3e}{{\bfseries fb\-\_\-is\-Id\-Registered} (\$fb\-\_\-id)}\label{class_session_a9bf8045a373664900252ed00d4f2ee3e}

\item 
\hypertarget{class_session_ad2c1b6e7059646a0175c4d44a58d9a24}{{\bfseries fb\-\_\-check\-Token} (\$fb\-\_\-token)}\label{class_session_ad2c1b6e7059646a0175c4d44a58d9a24}

\item 
\hypertarget{class_session_aebb3dd053976304c2e37ed1a6269215d}{{\bfseries fb\-\_\-check\-\_\-login} (\$fb\-\_\-id, \$fb\-\_\-email)}\label{class_session_aebb3dd053976304c2e37ed1a6269215d}

\item 
\hypertarget{class_session_a42df37109421ddfba6fb3b6a5f750b74}{{\bfseries fb\-\_\-login} (\$fb\-\_\-id, \$fb\-\_\-email, \$fb\-\_\-token)}\label{class_session_a42df37109421ddfba6fb3b6a5f750b74}

\item 
\hypertarget{class_session_a3d8f4ab7eef2297cd5b302597614c6fc}{{\bfseries fb\-\_\-register} (\$fb\-\_\-id, \$fb\-\_\-email, \$fb\-\_\-token)}\label{class_session_a3d8f4ab7eef2297cd5b302597614c6fc}

\item 
\hyperlink{class_session_a58013a1c19bca336eeaae59d6a8ad638}{login} (\$subuser, \$subpass, \$subremember, \$login\-\_\-using=N\-U\-L\-L)
\item 
\hyperlink{class_session_a082405d89acd6835c3a7c7a08a7adbab}{logout} ()
\item 
\hypertarget{class_session_a344dcdf5aaee1d6c78d9c95e801a9b3c}{{\bfseries register\-By\-Email} (\$email, \$subpass)}\label{class_session_a344dcdf5aaee1d6c78d9c95e801a9b3c}

\item 
\hyperlink{class_session_aec75219db39c91e4e6251dc0cf1e2cf7}{register} (\$subuser, \$subpass, \$subemail, \$subname)
\item 
\hyperlink{class_session_afb5e20f05a37240b201930237e5bfefa}{edit\-Account} (\$subcurpass, \$subnewpass, \$subemail, \$subname)
\item 
\hyperlink{class_session_aabf23b66cd362adaa508de5bfb22706a}{is\-Admin} ()
\item 
\hyperlink{class_session_a3a5078a92dbfd524000e464d8a16d354}{is\-Author} ()
\item 
\hyperlink{class_session_aae3ab5a5ee46ab2c8f8e6862abdbcd12}{generate\-Rand\-I\-D} ()
\item 
\hyperlink{class_session_a2176267602e1ac909d3e72c7197792e1}{generate\-Rand\-Str} (\$length)
\item 
\hypertarget{class_session_adf2b9065e86388d300b4c3f213aafa99}{{\bfseries clean\-Input} (\$post=array())}\label{class_session_adf2b9065e86388d300b4c3f213aafa99}

\end{DoxyCompactItemize}
\subsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_session_a109bbd7f4add27541707b191b73ef84a}{{\bfseries \$uid}}\label{class_session_a109bbd7f4add27541707b191b73ef84a}

\item 
\hypertarget{class_session_a0eb82aa5f81cf845de4b36cd653c42cf}{{\bfseries \$username}}\label{class_session_a0eb82aa5f81cf845de4b36cd653c42cf}

\item 
\hypertarget{class_session_ad634f418b20382e2802f80532d76d3cd}{{\bfseries \$email}}\label{class_session_ad634f418b20382e2802f80532d76d3cd}

\item 
\hypertarget{class_session_ae3f4f74a2aff9863a4767269a47aea11}{{\bfseries \$userid}}\label{class_session_ae3f4f74a2aff9863a4767269a47aea11}

\item 
\hypertarget{class_session_aaad25c433cf97417a6ba1f80216a9d03}{{\bfseries \$userlevel}}\label{class_session_aaad25c433cf97417a6ba1f80216a9d03}

\item 
\hypertarget{class_session_a78db1a0602e3b6ac1d9a1b5ec103c160}{{\bfseries \$time}}\label{class_session_a78db1a0602e3b6ac1d9a1b5ec103c160}

\item 
\hypertarget{class_session_a6de65a132d4ad46300a9e1060f789bda}{{\bfseries \$logged\-\_\-in}}\label{class_session_a6de65a132d4ad46300a9e1060f789bda}

\item 
\hypertarget{class_session_ad7307d3cba8bcaeac7cffd5ff9a94aa0}{{\bfseries \$userinfo} = array()}\label{class_session_ad7307d3cba8bcaeac7cffd5ff9a94aa0}

\item 
\hypertarget{class_session_acf215f34a917d014776ce684a9ee8909}{{\bfseries \$url}}\label{class_session_acf215f34a917d014776ce684a9ee8909}

\item 
\hypertarget{class_session_a2402bcebe26cb63b53de0f989559000d}{{\bfseries \$referrer}}\label{class_session_a2402bcebe26cb63b53de0f989559000d}

\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\hypertarget{class_session_afb5e20f05a37240b201930237e5bfefa}{\index{Session@{Session}!edit\-Account@{edit\-Account}}
\index{edit\-Account@{edit\-Account}!Session@{Session}}
\subsubsection[{edit\-Account}]{\setlength{\rightskip}{0pt plus 5cm}edit\-Account (
\begin{DoxyParamCaption}
\item[{}]{\$subcurpass, }
\item[{}]{\$subnewpass, }
\item[{}]{\$subemail, }
\item[{}]{\$subname}
\end{DoxyParamCaption}
)}}\label{class_session_afb5e20f05a37240b201930237e5bfefa}
edit\-Account -\/ Attempts to edit the user's account information including the password, which it first makes sure is correct if entered, if so and the new password is in the right format, the change is made. All other fields are changed automatically. \hypertarget{class_session_aae3ab5a5ee46ab2c8f8e6862abdbcd12}{\index{Session@{Session}!generate\-Rand\-I\-D@{generate\-Rand\-I\-D}}
\index{generate\-Rand\-I\-D@{generate\-Rand\-I\-D}!Session@{Session}}
\subsubsection[{generate\-Rand\-I\-D}]{\setlength{\rightskip}{0pt plus 5cm}generate\-Rand\-I\-D (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_session_aae3ab5a5ee46ab2c8f8e6862abdbcd12}
generate\-Rand\-I\-D -\/ Generates a string made up of randomized letters (lower and upper case) and digits and returns the md5 hash of it to be used as a userid. \hypertarget{class_session_a2176267602e1ac909d3e72c7197792e1}{\index{Session@{Session}!generate\-Rand\-Str@{generate\-Rand\-Str}}
\index{generate\-Rand\-Str@{generate\-Rand\-Str}!Session@{Session}}
\subsubsection[{generate\-Rand\-Str}]{\setlength{\rightskip}{0pt plus 5cm}generate\-Rand\-Str (
\begin{DoxyParamCaption}
\item[{}]{\$length}
\end{DoxyParamCaption}
)}}\label{class_session_a2176267602e1ac909d3e72c7197792e1}
generate\-Rand\-Str -\/ Generates a string made up of randomized letters (lower and upper case) and digits, the length is a specified parameter. \hypertarget{class_session_af29ab581f7144f68fc0982e66cde6608}{\index{Session@{Session}!get\-U\-I\-Dby\-Username\-And\-Userid@{get\-U\-I\-Dby\-Username\-And\-Userid}}
\index{get\-U\-I\-Dby\-Username\-And\-Userid@{get\-U\-I\-Dby\-Username\-And\-Userid}!Session@{Session}}
\subsubsection[{get\-U\-I\-Dby\-Username\-And\-Userid}]{\setlength{\rightskip}{0pt plus 5cm}get\-U\-I\-Dby\-Username\-And\-Userid (
\begin{DoxyParamCaption}
\item[{}]{\$username, }
\item[{}]{\$userid}
\end{DoxyParamCaption}
)}}\label{class_session_af29ab581f7144f68fc0982e66cde6608}
check\-Login -\/ Checks if the user has already previously logged in, and a session with the user has already been established. Also checks to see if user has been remembered. If so, the database is queried to make sure of the user's authenticity. Returns true if the user has logged in. \hypertarget{class_session_aabf23b66cd362adaa508de5bfb22706a}{\index{Session@{Session}!is\-Admin@{is\-Admin}}
\index{is\-Admin@{is\-Admin}!Session@{Session}}
\subsubsection[{is\-Admin}]{\setlength{\rightskip}{0pt plus 5cm}is\-Admin (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_session_aabf23b66cd362adaa508de5bfb22706a}
is\-Admin -\/ Returns true if currently logged in user is an administrator, false otherwise. \hypertarget{class_session_a3a5078a92dbfd524000e464d8a16d354}{\index{Session@{Session}!is\-Author@{is\-Author}}
\index{is\-Author@{is\-Author}!Session@{Session}}
\subsubsection[{is\-Author}]{\setlength{\rightskip}{0pt plus 5cm}is\-Author (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_session_a3a5078a92dbfd524000e464d8a16d354}
is\-Author -\/ Returns true if currently logged in user is an author or an administrator, false otherwise. \hypertarget{class_session_a58013a1c19bca336eeaae59d6a8ad638}{\index{Session@{Session}!login@{login}}
\index{login@{login}!Session@{Session}}
\subsubsection[{login}]{\setlength{\rightskip}{0pt plus 5cm}login (
\begin{DoxyParamCaption}
\item[{}]{\$subuser, }
\item[{}]{\$subpass, }
\item[{}]{\$subremember, }
\item[{}]{\$login\-\_\-using = {\ttfamily NULL}}
\end{DoxyParamCaption}
)}}\label{class_session_a58013a1c19bca336eeaae59d6a8ad638}
login -\/ The user has submitted his username and password through the login form, this function checks the authenticity of that information in the database and creates the session. Effectively logging in the user if all goes well. This is the cool part\-: the user has requested that we remember that he's logged in, so we set two cookies. One to hold his username, and one to hold his random value userid. It expires by the time specified in constants.\-php. Now, next time he comes to our site, we will log him in automatically, but only if he didn't log out before he left.\hypertarget{class_session_a082405d89acd6835c3a7c7a08a7adbab}{\index{Session@{Session}!logout@{logout}}
\index{logout@{logout}!Session@{Session}}
\subsubsection[{logout}]{\setlength{\rightskip}{0pt plus 5cm}logout (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_session_a082405d89acd6835c3a7c7a08a7adbab}
logout -\/ Gets called when the user wants to be logged out of the website. It deletes any cookies that were stored on the users computer as a result of him wanting to be remembered, and also unsets session variables and demotes his user level to guest. Delete cookies -\/ the time must be in the past, so just negate what you added when creating the cookie.

Remove from active users table and add to active guests tables.\hypertarget{class_session_aec75219db39c91e4e6251dc0cf1e2cf7}{\index{Session@{Session}!register@{register}}
\index{register@{register}!Session@{Session}}
\subsubsection[{register}]{\setlength{\rightskip}{0pt plus 5cm}register (
\begin{DoxyParamCaption}
\item[{}]{\$subuser, }
\item[{}]{\$subpass, }
\item[{}]{\$subemail, }
\item[{}]{\$subname}
\end{DoxyParamCaption}
)}}\label{class_session_aec75219db39c91e4e6251dc0cf1e2cf7}
register -\/ Gets called when the user has just submitted the registration form. Determines if there were any errors with the entry fields, if so, it records the errors and returns
\begin{DoxyEnumerate}
\item If no errors were found, it registers the new user and returns 0. Returns 2 if registration failed. 
\end{DoxyEnumerate}Note\-: I trimmed the password only after I checked the length because if you fill the password field up with spaces it looks like a lot more characters than 4, so it looks kind of stupid to report \char`\"{}password too short\char`\"{}.\hypertarget{class_session_a9f2567297f1c0fd0532fa8763308134a}{\index{Session@{Session}!Session@{Session}}
\index{Session@{Session}!Session@{Session}}
\subsubsection[{Session}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Session} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_session_a9f2567297f1c0fd0532fa8763308134a}
Note\-: referrer should really only be considered the actual page referrer in process.\-php, any other time it may be inaccurate. \hypertarget{class_session_a1e201c0957bc704471a78cd492174871}{\index{Session@{Session}!start\-Session@{start\-Session}}
\index{start\-Session@{start\-Session}!Session@{Session}}
\subsubsection[{start\-Session}]{\setlength{\rightskip}{0pt plus 5cm}start\-Session (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_session_a1e201c0957bc704471a78cd492174871}
start\-Session -\/ Performs all the actions necessary to initialize this session object. Tries to determine if the the user has logged in already, and sets the variables accordingly. Also takes advantage of this page load to update the active visitors tables. Set guest value to users not logged in, and update active guests table accordingly.

The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
C\-:/xampp/htdocs/usahawanekspress.\-com/intelmlm\-\_\-include/session.\-php\end{DoxyCompactItemize}
